import{u as oe,V as ne}from"./VirtualKeyboard-nZkcSSgl.js";import{d as A,j as u,f as z,c as i,l as m,a as t,i as b,F as _,h as D,t as d,m as g,v as w,B as se,o as r,n as G,y as le,b as E}from"./index-B4MJJKt_.js";import{_ as U}from"./_plugin-vue_export-helper-DlAUqK2U.js";const ae={class:"editor-body"},ie={class:"group-tabs"},re=["onClick"],ue={key:0},de=["checked","onChange"],ce={class:"shortcuts-list"},ve=["onDragstart","onDrop"],pe={class:"shortcut-preview"},me={key:0,class:"shortcut-icon"},be={class:"shortcut-label"},fe={class:"shortcut-keys"},ke={class:"shortcut-actions"},Ce=["onClick"],ye=["onClick"],ge=["onClick"],Se={class:"preset-section"},he={class:"preset-list"},$e={class:"import-export"},_e={class:"form-group"},De={class:"form-group"},we={key:0},Ke={key:1},Ie={class:"form-group"},Ve={class:"icon-picker"},xe=["onClick"],Ge={class:"form-group"},Le={class:"color-picker"},ze=["onClick"],Ee={class:"form-group"},Ae={class:"form-actions"},Ue={class:"form-group"},Ne={class:"form-group"},Be={class:"form-actions"},Re=A({__name:"ShortcutEditor",props:{visible:{type:Boolean}},emits:["close"],setup(N,{emit:K}){const S=K,l=oe(),v=u("basic"),h=u(!1),f=u(!1),k=u(!1),p=u(null),I=u(!1),$=u(""),V=u(null),s=u({label:"",keys:[],icon:"",color:"",size:"medium"}),c=u({name:"",icon:""}),B=["📋","📌","✂️","↩️","↪️","💾","🔍","🔄","⚡","🚀","🎯","🔧","⚙️","📊","📈","🔒","🔓","🌟","❤️","✨"],R=["#ff6b6b","#4ecdc4","#45b7d1","#96ceb4","#feca57","#ff9ff3","#54a0ff","#48dbfb","#a29bfe","#fd79a8"],j=z(()=>Array.from(l.groups.values())),P=z(()=>{const n=l.groups.get(v.value);return n?n.shortcuts.map(e=>l.shortcuts.get(e)).filter(Boolean):[]});function T(n){v.value=n}function F(n){l.toggleGroup(n)}function C(n){return!n||n.length===0?"":n.map(o=>{switch(o){case"Control":return"Ctrl";case"Meta":return"Cmd";case"Alt":return"Alt";case"Shift":return"Shift";default:return o.replace("Key","").replace("Digit","")}}).join("+")}function M(){I.value=!0,s.value.keys=[];const n=new Set,e=a=>{a.preventDefault(),n.add(a.code),s.value.keys=Array.from(n)},o=()=>{n.size>0&&(I.value=!1,document.removeEventListener("keydown",e),document.removeEventListener("keyup",o))};document.addEventListener("keydown",e),document.addEventListener("keyup",o)}function O(n){p.value=n,s.value={label:n.label,keys:[...n.keys],icon:n.icon||"",color:n.color||"",size:n.size||"medium"},h.value=!0}function J(n){l.addShortcut({...n,label:n.label+" 2",group:v.value})}function q(n){confirm("Delete this shortcut?")&&l.deleteShortcut(n)}function H(){alert(`Testing: ${C(s.value.keys)}`)}function Q(){p.value?l.updateShortcut(p.value.id,{...s.value,code:C(s.value.keys),enabled:!0}):l.addShortcut({...s.value,code:C(s.value.keys),group:v.value,enabled:!0}),x()}function x(){h.value=!1,p.value=null,s.value={label:"",keys:[],icon:"",color:"",size:"medium"}}function W(){const n=l.createGroup(c.value.name,c.value.icon);v.value=n,k.value=!1,c.value={name:"",icon:""}}function y(n){console.log("Loading preset:",n)}function X(){const n=l.exportShortcuts(),e=new Blob([n],{type:"application/json"}),o=URL.createObjectURL(e),a=document.createElement("a");a.href=o,a.download="keyboard-shortcuts.json",a.click(),URL.revokeObjectURL(o)}function Y(){l.importShortcuts($.value)?(f.value=!1,$.value=""):alert("Invalid configuration format")}function Z(){confirm("Reset all shortcuts to defaults? This cannot be undone.")&&l.resetToDefaults()}function ee(n){V.value=n}function te(n){console.log("Dropped",V.value,"on",n),V.value=null}function L(){S("close")}return(n,e)=>n.visible?(r(),i("div",{key:0,class:"shortcut-editor-overlay",onClick:L},[t("div",{class:"shortcut-editor",onClick:e[22]||(e[22]=b(()=>{},["stop"]))},[t("div",{class:"editor-header"},[e[23]||(e[23]=t("h2",null,"Keyboard Shortcuts",-1)),t("button",{class:"close-btn",onClick:L},"✕")]),t("div",ae,[t("div",ie,[(r(!0),i(_,null,D(j.value,o=>(r(),i("button",{key:o.id,class:G(["group-tab",{active:v.value===o.id}]),onClick:a=>T(o.id)},[o.icon?(r(),i("span",ue,d(o.icon),1)):m("",!0),t("span",null,d(o.name),1),t("input",{type:"checkbox",checked:o.enabled,onClick:e[0]||(e[0]=b(()=>{},["stop"])),onChange:a=>F(o.id)},null,40,de)],10,re))),128)),t("button",{class:"group-tab add-group",onClick:e[1]||(e[1]=o=>k.value=!0)}," + Add Group ")]),t("div",ce,[(r(!0),i(_,null,D(P.value,o=>(r(),i("div",{key:o.id,class:"shortcut-item",draggable:"true",onDragstart:a=>ee(o),onDragover:e[2]||(e[2]=b(()=>{},["prevent"])),onDrop:a=>te(o)},[t("div",pe,[o.icon?(r(),i("span",me,d(o.icon),1)):m("",!0),t("span",be,d(o.label),1),t("span",fe,d(C(o.keys)),1)]),t("div",ke,[t("button",{onClick:a=>O(o),class:"action-btn"},"✏️",8,Ce),t("button",{onClick:a=>J(o),class:"action-btn"},"📋",8,ye),t("button",{onClick:a=>q(o.id),class:"action-btn delete"},"🗑️",8,ge)])],40,ve))),128)),t("button",{class:"add-shortcut-btn",onClick:e[3]||(e[3]=o=>h.value=!0)}," + Add Shortcut ")]),t("div",Se,[e[24]||(e[24]=t("h3",null,"Import Preset Groups",-1)),t("div",he,[t("button",{onClick:e[4]||(e[4]=o=>y("navigation")),class:"preset-btn"}," 🧭 Navigation Keys "),t("button",{onClick:e[5]||(e[5]=o=>y("vim")),class:"preset-btn"}," 📝 Vim Commands "),t("button",{onClick:e[6]||(e[6]=o=>y("git")),class:"preset-btn"}," 🔀 Git Commands "),t("button",{onClick:e[7]||(e[7]=o=>y("docker")),class:"preset-btn"}," 🐳 Docker Commands "),t("button",{onClick:e[8]||(e[8]=o=>y("function")),class:"preset-btn"}," 🔧 Function Keys ")])]),t("div",$e,[t("button",{onClick:X,class:"action-btn"}," 📤 Export Configuration "),t("button",{onClick:e[9]||(e[9]=o=>f.value=!0),class:"action-btn"}," 📥 Import Configuration "),t("button",{onClick:Z,class:"action-btn danger"}," 🔄 Reset to Defaults ")])]),h.value||p.value?(r(),i("div",{key:0,class:"modal-overlay",onClick:x},[t("div",{class:"modal-content",onClick:e[12]||(e[12]=b(()=>{},["stop"]))},[t("h3",null,d(p.value?"Edit":"Add")+" Shortcut",1),t("div",_e,[e[25]||(e[25]=t("label",null,"Label (max 10 chars)",-1)),g(t("input",{"onUpdate:modelValue":e[10]||(e[10]=o=>s.value.label=o),maxlength:"10",placeholder:"e.g., Copy"},null,512),[[w,s.value.label]])]),t("div",De,[e[26]||(e[26]=t("label",null,"Key Combination",-1)),t("div",{class:"key-recorder",onClick:M},[I.value?(r(),i("span",we,"Press keys...")):(r(),i("span",Ke,d(C(s.value.keys)||"Click to record"),1))])]),t("div",Ie,[e[27]||(e[27]=t("label",null,"Icon (optional)",-1)),t("div",Ve,[(r(),i(_,null,D(B,o=>t("button",{key:o,class:G(["icon-option",{selected:s.value.icon===o}]),onClick:a=>s.value.icon=o},d(o),11,xe)),64))])]),t("div",Ge,[e[28]||(e[28]=t("label",null,"Color",-1)),t("div",Le,[(r(),i(_,null,D(R,o=>t("button",{key:o,class:G(["color-option",{selected:s.value.color===o}]),style:le({backgroundColor:o}),onClick:a=>s.value.color=o},null,14,ze)),64))])]),t("div",Ee,[e[30]||(e[30]=t("label",null,"Size",-1)),g(t("select",{"onUpdate:modelValue":e[11]||(e[11]=o=>s.value.size=o)},e[29]||(e[29]=[t("option",{value:"small"},"Small",-1),t("option",{value:"medium"},"Medium",-1),t("option",{value:"large"},"Large",-1)]),512),[[se,s.value.size]])]),t("div",{class:"form-actions"},[t("button",{onClick:H,class:"test-btn"},"Test"),t("button",{onClick:Q,class:"save-btn"},"Save"),t("button",{onClick:x,class:"cancel-btn"},"Cancel")])])])):m("",!0),f.value?(r(),i("div",{key:1,class:"modal-overlay",onClick:e[16]||(e[16]=o=>f.value=!1)},[t("div",{class:"modal-content",onClick:e[15]||(e[15]=b(()=>{},["stop"]))},[e[31]||(e[31]=t("h3",null,"Import Configuration",-1)),g(t("textarea",{"onUpdate:modelValue":e[13]||(e[13]=o=>$.value=o),placeholder:"Paste JSON configuration here...",rows:"10"},null,512),[[w,$.value]]),t("div",Ae,[t("button",{onClick:Y,class:"save-btn"},"Import"),t("button",{onClick:e[14]||(e[14]=o=>f.value=!1),class:"cancel-btn"},"Cancel")])])])):m("",!0),k.value?(r(),i("div",{key:2,class:"modal-overlay",onClick:e[21]||(e[21]=o=>k.value=!1)},[t("div",{class:"modal-content",onClick:e[20]||(e[20]=b(()=>{},["stop"]))},[e[34]||(e[34]=t("h3",null,"Add Group",-1)),t("div",Ue,[e[32]||(e[32]=t("label",null,"Group Name",-1)),g(t("input",{"onUpdate:modelValue":e[17]||(e[17]=o=>c.value.name=o),placeholder:"e.g., Custom Commands"},null,512),[[w,c.value.name]])]),t("div",Ne,[e[33]||(e[33]=t("label",null,"Icon (optional)",-1)),g(t("input",{"onUpdate:modelValue":e[18]||(e[18]=o=>c.value.icon=o),placeholder:"e.g., 🚀",maxlength:"2"},null,512),[[w,c.value.icon]])]),t("div",Be,[t("button",{onClick:W,class:"save-btn"},"Create"),t("button",{onClick:e[19]||(e[19]=o=>k.value=!1),class:"cancel-btn"},"Cancel")])])])):m("",!0)])])):m("",!0)}}),je=U(Re,[["__scopeId","data-v-899260cc"]]),Pe={class:"keyboard-view"},Te={class:"keyboard-container"},Fe={class:"shortcuts-editor"},Me=A({__name:"KeyboardView",setup(N){function K(S){console.log("Key pressed:",S)}return(S,l)=>(r(),i("div",Pe,[l[0]||(l[0]=t("div",{class:"header"},[t("h1",null,"Virtual Keyboard"),t("p",null,"Customize your virtual keyboard shortcuts and layout")],-1)),t("div",Te,[E(ne,{"show-editor":!0,onKeyPress:K})]),t("div",Fe,[E(je)])]))}}),He=U(Me,[["__scopeId","data-v-b0af607c"]]);export{He as default};
