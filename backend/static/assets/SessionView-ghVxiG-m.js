import{j as S,g as se,k as ue,d as te,f as P,c as $,l as A,a as u,t as E,F as j,h as J,m as be,v as he,p as de,u as we,o as C,n as O,i as re,q as ge,b as t,r as g,w as e,e as m,s as ee,x as Se,y as Ce,z as Te}from"./index-BsFz-Ojp.js";import{u as ie}from"./sessions-D6k8lLhp.js";import{_ as ne}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{u as ce}from"./settings-DtpcTL18.js";import{V as xe}from"./VirtualKeyboard-M4CSA2ai.js";function me(h={}){const{swipeThreshold:p=50,longPressDelay:T=500}=h,l=S(0),f=S(0),y=S(0),c=S(0),o=S(0),v=S(0),_=S(!1),D=S(0);let x=null,K=0,L=1,k=null;function X(r){if(r.touches.length===1)l.value=r.touches[0].clientX,f.value=r.touches[0].clientY,o.value=Date.now(),h.onLongPress&&(x=setTimeout(()=>{h.onLongPress?.(r)},T)),h.onPullToRefresh&&window.scrollY===0&&(_.value=!0);else if(r.touches.length===2&&h.onPinch){const a=r.touches[0].clientX-r.touches[1].clientX,b=r.touches[0].clientY-r.touches[1].clientY;K=Math.sqrt(a*a+b*b)}}function B(r){if(x&&(clearTimeout(x),x=null),r.touches.length===1){if(y.value=r.touches[0].clientX,c.value=r.touches[0].clientY,_.value&&h.onPullToRefresh){const a=c.value-f.value;a>0&&(D.value=Math.min(a,150),r.preventDefault(),k&&(k.style.transform=`translateY(${D.value*.5}px)`,k.style.transition="none"))}}else if(r.touches.length===2&&h.onPinch&&K>0){const a=r.touches[0].clientX-r.touches[1].clientX,b=r.touches[0].clientY-r.touches[1].clientY,z=Math.sqrt(a*a+b*b)/K;Math.abs(z-L)>.01&&(L=z,h.onPinch(z))}}function U(r){x&&(clearTimeout(x),x=null);const a=Date.now(),b=a-o.value;if(h.onDoubleTap){const n=a-v.value;if(n<300&&n>0){h.onDoubleTap(),v.value=0;return}v.value=a}if(_.value&&h.onPullToRefresh){_.value=!1,k&&(k.style.transition="transform 0.3s ease",k.style.transform="translateY(0)"),D.value>80?h.onPullToRefresh().then(()=>{D.value=0}):D.value=0;return}if(b<300){const n=y.value-l.value,z=c.value-f.value,q=Math.abs(n),V=Math.abs(z);(q>p||V>p)&&(q>V?n>p&&h.onSwipeRight?h.onSwipeRight():n<-p&&h.onSwipeLeft&&h.onSwipeLeft():z>p&&h.onSwipeDown?h.onSwipeDown():z<-p&&h.onSwipeUp&&h.onSwipeUp())}K=0,L=1}function N(){x&&(clearTimeout(x),x=null),_.value=!1,D.value=0,K=0,L=1,k&&(k.style.transform="translateY(0)")}function I(r){r.preventDefault()}function Y(r){k=r||h.element||document.body,k&&(k.addEventListener("touchstart",X,{passive:!1}),k.addEventListener("touchmove",B,{passive:!1}),k.addEventListener("touchend",U,{passive:!1}),k.addEventListener("touchcancel",N,{passive:!1}),k.addEventListener("gesturestart",I,{passive:!1}))}function i(){k&&(k.removeEventListener("touchstart",X),k.removeEventListener("touchmove",B),k.removeEventListener("touchend",U),k.removeEventListener("touchcancel",N),k.removeEventListener("gesturestart",I)),x&&clearTimeout(x)}return se(()=>{!k&&h.element&&Y(h.element)}),ue(()=>{i()}),{setup:Y,cleanup:i,isPulling:_,pullDistance:D,touchStartX:l,touchStartY:f,touchEndX:y,touchEndY:c}}const $e={class:"session-tabs"},De={key:0,class:"mobile-tabs"},ze={class:"tab-name"},Ee={class:"dropdown-arrow"},Ke={key:0,class:"mobile-dropdown"},Le=["onClick"],Fe={class:"session-name"},Me=["onClick"],Pe=["onClick"],Ie=["onDblclick"],Ve=["onClick","title"],Ne={key:2,class:"rename-dialog"},Re=te({__name:"SessionTabs",setup(h){const p=ie(),T=we(),l=P(()=>p.sessions),f=P(()=>p.activeSessionId),y=P(()=>l.value.find(i=>i.id===f.value)),c=S(null),o=S(""),v=S(),_=S(!1),D=P(()=>window.innerWidth<768||"ontouchstart"in window||navigator.maxTouchPoints>0);async function x(){try{const i=await p.createSession();i&&i.id&&T.push(`/session/${i.id}`)}catch(i){console.error("Failed to create session:",i)}}function K(i){p.switchSession(i),T.push(`/session/${i}`)}function L(i){p.switchSession(i),T.push(`/session/${i}`),_.value=!1}async function k(i){confirm("Close this session?")&&await p.closeSession(i)}async function X(i){c.value=i,o.value=i.name,await ge(),v.value?.select()}async function B(){c.value&&o.value.trim()&&(await p.renameSession(c.value.id,o.value.trim()),U())}function U(){c.value=null,o.value=""}function N(i){if(i.ctrlKey&&i.shiftKey&&i.key==="T"&&(i.preventDefault(),x()),i.ctrlKey&&i.key==="Tab"&&!i.shiftKey){i.preventDefault();const a=(l.value.findIndex(b=>b.id===f.value)+1)%l.value.length;l.value[a]&&K(l.value[a].id)}if(i.ctrlKey&&i.shiftKey&&i.key==="Tab"){i.preventDefault();const r=l.value.findIndex(b=>b.id===f.value),a=r===0?l.value.length-1:r-1;l.value[a]&&K(l.value[a].id)}i.ctrlKey&&i.key==="w"&&(i.preventDefault(),f.value&&k(f.value))}const I=S(),Y=me({onSwipeLeft:()=>{const r=(l.value.findIndex(a=>a.id===f.value)+1)%l.value.length;l.value[r]&&K(l.value[r].id)},onSwipeRight:()=>{const i=l.value.findIndex(a=>a.id===f.value),r=i===0?l.value.length-1:i-1;l.value[r]&&K(l.value[r].id)},swipeThreshold:50});return se(()=>{document.addEventListener("keydown",N),I.value&&Y.setup(I.value)}),ue(()=>{document.removeEventListener("keydown",N),Y.cleanup()}),(i,r)=>(C(),$("div",$e,[D.value&&l.value.length>2?(C(),$("div",De,[u("div",{class:"mobile-current-tab",onClick:r[0]||(r[0]=a=>_.value=!_.value)},[u("span",ze,E(y.value?.name||"No Session"),1),u("span",Ee,E(_.value?"▲":"▼"),1)]),_.value?(C(),$("div",Ke,[(C(!0),$(j,null,J(l.value,a=>(C(),$("div",{key:a.id,class:O(["dropdown-item",{active:a.id===f.value}]),onClick:b=>L(a.id)},[u("span",Fe,E(a.name),1),u("button",{class:"close-btn",onClick:re(b=>k(a.id),["stop"])}," × ",8,Me)],10,Le))),128))])):A("",!0),u("button",{class:"mobile-add-btn",onClick:x,title:"New Session"}," + ")])):(C(),$("div",{key:1,class:"tabs-container",ref_key:"tabsContainer",ref:I},[(C(!0),$(j,null,J(l.value,a=>(C(),$("div",{key:a.id,class:O(["tab",{active:a.id===f.value}]),onClick:b=>K(a.id)},[u("span",{class:"tab-name",onDblclick:b=>X(a)},E(a.name),41,Ie),u("button",{class:"close-btn",onClick:re(b=>k(a.id),["stop"]),title:"Close "+a.name}," × ",8,Ve)],10,Pe))),128)),u("button",{class:"tab add-tab",onClick:x,title:"New Session (Ctrl+Shift+T)"}," + ")],512)),c.value?(C(),$("div",Ne,[be(u("input",{"onUpdate:modelValue":r[1]||(r[1]=a=>o.value=a),onKeyup:[de(B,["enter"]),de(U,["esc"])],ref_key:"renameInput",ref:v,placeholder:"Session name"},null,544),[[he,o.value]])])):A("",!0)]))}}),Ue=ne(Re,[["__scopeId","data-v-0ea7c3fe"]]),Ye={key:0,class:"mobile-bottom-nav"},qe=te({__name:"MobileBottomNav",emits:["toggle-keyboard","toggle-fullscreen","theme-change","font-size-change"],setup(h,{emit:p}){const T=p,l=ie(),f=ce(),y=S(!1),c=S(!1),o=S(!1),v=S(!1),_=S(!1),D=S(14),x=S("monokai"),K=P(()=>l.sessions),L=P(()=>l.activeSessionId),k=P(()=>window.innerWidth<768||"ontouchstart"in window||navigator.maxTouchPoints>0),X=[{id:"monokai",name:"Monokai",description:"Dark theme with vibrant colors"},{id:"solarized-dark",name:"Solarized Dark",description:"Popular dark theme"},{id:"solarized-light",name:"Solarized Light",description:"Light theme"},{id:"dracula",name:"Dracula",description:"Dark theme with purple accents"},{id:"gruvbox",name:"Gruvbox",description:"Retro groove dark theme"},{id:"nord",name:"Nord",description:"Arctic, north-bluish theme"}];function B(){T("toggle-keyboard")}function U(){document.fullscreenElement?(document.exitFullscreen(),_.value=!1):(document.documentElement.requestFullscreen(),_.value=!0),T("toggle-fullscreen")}function N(){l.createSession(),c.value=!1}function I(b){l.switchSession(b),c.value=!1}function Y(b){confirm("Close this session?")&&l.closeSession(b)}function i(){L.value&&l.reloadSession(L.value),y.value=!1}function r(b){x.value=b.id,f.setSetting("appearance","terminalTheme",b.id),T("theme-change",b),v.value=!1}function a(b){f.setSetting("appearance","fontSize",b),T("font-size-change",b)}return document.addEventListener("fullscreenchange",()=>{_.value=!!document.fullscreenElement}),(b,n)=>{const z=g("v-icon"),q=g("v-card-title"),V=g("v-list-item-title"),G=g("v-list-item"),W=g("v-list"),d=g("v-card"),s=g("v-bottom-sheet"),F=g("v-btn"),R=g("v-slider"),H=g("v-card-text"),oe=g("v-spacer"),Q=g("v-card-actions"),Z=g("v-dialog"),ae=g("v-list-item-subtitle");return k.value?(C(),$("div",Ye,[u("div",{class:"nav-item",onClick:B},[t(z,null,{default:e(()=>n[11]||(n[11]=[m("mdi-keyboard",-1)])),_:1,__:[11]}),n[12]||(n[12]=u("span",null,"Keyboard",-1))]),u("div",{class:"nav-item",onClick:U},[t(z,null,{default:e(()=>[m(E(_.value?"mdi-fullscreen-exit":"mdi-fullscreen"),1)]),_:1}),u("span",null,E(_.value?"Exit":"Fullscreen"),1)]),u("div",{class:"nav-item",onClick:n[0]||(n[0]=w=>y.value=!0)},[t(z,null,{default:e(()=>n[13]||(n[13]=[m("mdi-dots-vertical",-1)])),_:1,__:[13]}),n[14]||(n[14]=u("span",null,"More",-1))]),u("div",{class:"nav-item",onClick:N},[t(z,null,{default:e(()=>n[15]||(n[15]=[m("mdi-plus",-1)])),_:1,__:[15]}),n[16]||(n[16]=u("span",null,"New",-1))]),u("div",{class:"nav-item",onClick:n[1]||(n[1]=w=>c.value=!0)},[t(z,null,{default:e(()=>n[17]||(n[17]=[m("mdi-view-list",-1)])),_:1,__:[17]}),n[18]||(n[18]=u("span",null,"Sessions",-1))]),t(s,{modelValue:y.value,"onUpdate:modelValue":n[4]||(n[4]=w=>y.value=w)},{default:e(()=>[t(d,null,{default:e(()=>[t(q,null,{default:e(()=>n[19]||(n[19]=[m("Options",-1)])),_:1,__:[19]}),t(W,null,{default:e(()=>[t(G,{onClick:n[2]||(n[2]=w=>v.value=!0)},{prepend:e(()=>[t(z,null,{default:e(()=>n[20]||(n[20]=[m("mdi-palette",-1)])),_:1,__:[20]})]),default:e(()=>[t(V,null,{default:e(()=>n[21]||(n[21]=[m("Change Theme",-1)])),_:1,__:[21]})]),_:1}),t(G,{onClick:i},{prepend:e(()=>[t(z,null,{default:e(()=>n[22]||(n[22]=[m("mdi-refresh",-1)])),_:1,__:[22]})]),default:e(()=>[t(V,null,{default:e(()=>n[23]||(n[23]=[m("Refresh Terminal",-1)])),_:1,__:[23]})]),_:1}),t(G,{onClick:n[3]||(n[3]=w=>o.value=!0)},{prepend:e(()=>[t(z,null,{default:e(()=>n[24]||(n[24]=[m("mdi-format-size",-1)])),_:1,__:[24]})]),default:e(()=>[t(V,null,{default:e(()=>n[25]||(n[25]=[m("Font Size",-1)])),_:1,__:[25]})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(s,{modelValue:c.value,"onUpdate:modelValue":n[5]||(n[5]=w=>c.value=w)},{default:e(()=>[t(d,null,{default:e(()=>[t(q,null,{default:e(()=>n[26]||(n[26]=[m("Sessions",-1)])),_:1,__:[26]}),t(W,null,{default:e(()=>[(C(!0),$(j,null,J(K.value,w=>(C(),ee(G,{key:w.id,onClick:le=>I(w.id),active:w.id===L.value},{append:e(()=>[t(F,{icon:"",size:"small",onClick:re(le=>Y(w.id),["stop"])},{default:e(()=>[t(z,null,{default:e(()=>n[27]||(n[27]=[m("mdi-close",-1)])),_:1,__:[27]})]),_:2},1032,["onClick"])]),default:e(()=>[t(V,null,{default:e(()=>[m(E(w.name),1)]),_:2},1024)]),_:2},1032,["onClick","active"]))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(Z,{modelValue:o.value,"onUpdate:modelValue":n[8]||(n[8]=w=>o.value=w),"max-width":"300"},{default:e(()=>[t(d,null,{default:e(()=>[t(q,null,{default:e(()=>n[28]||(n[28]=[m("Font Size",-1)])),_:1,__:[28]}),t(H,null,{default:e(()=>[t(R,{modelValue:D.value,"onUpdate:modelValue":[n[6]||(n[6]=w=>D.value=w),a],min:10,max:24,step:2,"thumb-label":""},{append:e(()=>[u("span",null,E(D.value)+"px",1)]),_:1},8,["modelValue"])]),_:1}),t(Q,null,{default:e(()=>[t(oe),t(F,{variant:"text",onClick:n[7]||(n[7]=w=>o.value=!1)},{default:e(()=>n[29]||(n[29]=[m("Done",-1)])),_:1,__:[29]})]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(Z,{modelValue:v.value,"onUpdate:modelValue":n[10]||(n[10]=w=>v.value=w),"max-width":"500"},{default:e(()=>[t(d,null,{default:e(()=>[t(q,null,{default:e(()=>n[30]||(n[30]=[m("Select Terminal Theme",-1)])),_:1,__:[30]}),t(H,null,{default:e(()=>[t(W,null,{default:e(()=>[(C(),$(j,null,J(X,w=>t(G,{key:w.id,onClick:le=>r(w),active:x.value===w.id},{default:e(()=>[t(V,null,{default:e(()=>[m(E(w.name),1)]),_:2},1024),t(ae,null,{default:e(()=>[m(E(w.description),1)]),_:2},1024)]),_:2},1032,["onClick","active"])),64))]),_:1})]),_:1}),t(Q,null,{default:e(()=>[t(oe),t(F,{variant:"text",onClick:n[9]||(n[9]=w=>v.value=!1)},{default:e(()=>n[31]||(n[31]=[m("Close",-1)])),_:1,__:[31]})]),_:1})]),_:1})]),_:1},8,["modelValue"])])):A("",!0)}}}),Ae=ne(qe,[["__scopeId","data-v-07a1a67b"]]),Xe={key:1,class:"mobile-header"},Be=["src"],Ge={key:3,class:"no-session"},Oe=te({__name:"TerminalFrame",props:{session:{}},setup(h){const p=h,T=ie(),l=ce(),f=S(),y=S(!1),c=S(!1),o=S(1),v=S(!1),_=S(14),D=S("monokai"),x=[{id:"monokai",name:"Monokai",description:"Dark theme with vibrant colors"},{id:"solarized-dark",name:"Solarized Dark",description:"Popular dark theme"},{id:"solarized-light",name:"Solarized Light",description:"Light theme with good contrast"},{id:"dracula",name:"Dracula",description:"Dark theme with purple accents"},{id:"gruvbox",name:"Gruvbox",description:"Retro groove dark theme"},{id:"nord",name:"Nord",description:"Arctic, north-bluish theme"},{id:"one-dark",name:"One Dark",description:"Atom One Dark theme"},{id:"material",name:"Material",description:"Material Design theme"},{id:"tomorrow-night",name:"Tomorrow Night",description:"Tomorrow Night theme"},{id:"ayu",name:"Ayu",description:"Modern theme with vibrant colors"},{id:"tokyo-night",name:"Tokyo Night",description:"Clean, dark theme"},{id:"catppuccin",name:"Catppuccin",description:"Soothing pastel theme"}],K=P(()=>p.session?T.getSessionUrl(p.session.id):""),L=P(()=>"ontouchstart"in window||navigator.maxTouchPoints>0),k=P(()=>p.session?p.session.status==="active"?"success":"error":"grey"),X=P(()=>({fontSize:`${_.value}px`,transform:`scale(${o.value})`,transformOrigin:"top left"}));function B(){console.log("Terminal iframe loaded for session:",p.session?.id),V(),setTimeout(()=>{b(),a()},1e3)}function U(){T.createSession()}function N(){y.value=!y.value}function I(){document.fullscreenElement?(document.exitFullscreen(),v.value=!1):(f.value?.requestFullscreen(),v.value=!0)}function Y(){_.value<24&&(_.value+=2,l.setSetting("appearance","fontSize",_.value),a())}function i(){_.value>10&&(_.value-=2,l.setSetting("appearance","fontSize",_.value),a())}function r(d){D.value=d.id,l.setSetting("appearance","terminalTheme",d.id),b(),c.value=!1}function a(){const d=f.value?.querySelector("iframe");if(d&&d.contentDocument){const s=d.contentDocument.createElement("style");s.textContent=`.terminal { font-size: ${_.value}px !important; }`,d.contentDocument.head.appendChild(s)}}function b(){const d=f.value?.querySelector("iframe");if(d&&d.contentDocument){let s=d.contentDocument.querySelector("#terminal-width-style");s||(s=d.contentDocument.createElement("style"),s.id="terminal-width-style",d.contentDocument.head.appendChild(s)),s.textContent=`
      body { 
        margin: 0 !important;
        padding: 0 !important;
        width: 100% !important;
        height: 100% !important;
        overflow: hidden !important;
        background: #000 !important;
      }
      .terminal, #terminal { 
        width: 100% !important; 
        height: 100% !important;
        margin: 0 !important;
        padding: 8px !important;
        background: #000 !important;
        font-family: 'Menlo', 'Monaco', 'Courier New', monospace !important;
        font-size: 14px !important;
        line-height: 1.2 !important;
      }
      .xterm, .xterm-screen { 
        width: 100% !important; 
        height: 100% !important;
        margin: 0 !important;
        padding: 0 !important;
      }
      .xterm-viewport {
        width: 100% !important;
        overflow-y: auto !important;
      }
      .xterm-rows {
        width: 100% !important;
      }
      .xterm-cursor {
        background: #fff !important;
      }
    `;const F=d.contentDocument.querySelector(".terminal, #terminal");F&&(F.style.width="100vw",F.style.maxWidth="100vw",F.style.margin="0",F.style.padding="0"),console.log("Applied theme and full width styles:",D.value)}}function n(){p.session&&T.reloadSession(p.session.id)}function z(d){const s=f.value?.querySelector("iframe");s&&s.contentWindow&&s.contentWindow.postMessage({type:"keypress",key:d.key,code:d.code,ctrlKey:d.ctrlKey,altKey:d.altKey,shiftKey:d.shiftKey,metaKey:d.metaKey},"*")}const q=me({onPinch:d=>{f.value?.querySelector("iframe")&&(o.value=Math.min(Math.max(.5,o.value*d),3))},onDoubleTap:()=>{o.value=1},onLongPress:d=>{G()},onPullToRefresh:async()=>{p.session&&await T.reloadSession(p.session.id)}});function V(){!f.value||!L.value||q.setup(f.value)}function G(d){console.log("Long press detected - would show context menu")}Se(()=>p.session,()=>{p.session&&(o.value=1)});function W(){const d=f.value?.querySelector("iframe");d&&(d.style.height="0",setTimeout(()=>{d.style.height="100%"},0))}return se(()=>{window.addEventListener("resize",W),V(),_.value=l.getSetting("appearance","fontSize"),D.value=l.getSetting("appearance","terminalTheme"),document.addEventListener("fullscreenchange",()=>{v.value=!!document.fullscreenElement})}),ue(()=>{window.removeEventListener("resize",W)}),(d,s)=>{const F=g("v-tooltip"),R=g("v-btn"),H=g("v-chip"),oe=g("v-btn-group"),Q=g("v-spacer"),Z=g("v-icon"),ae=g("v-card-title"),w=g("v-list-item-title"),le=g("v-list-item-subtitle"),ve=g("v-list-item"),fe=g("v-list"),pe=g("v-card-text"),_e=g("v-card-actions"),ye=g("v-card"),ke=g("v-dialog");return C(),$("div",{class:O(["terminal-frame",{fullscreen:v.value}]),ref_key:"terminalContainer",ref:f},[L.value?A("",!0):(C(),$("div",{key:0,class:O(["terminal-toolbar",{"mobile-toolbar":L.value}])},[t(oe,{density:"compact",variant:"outlined"},{default:e(()=>[t(R,{onClick:I,icon:v.value?"mdi-fullscreen-exit":"mdi-fullscreen",size:"small"},{default:e(()=>[t(F,{activator:"parent",location:"bottom"},{default:e(()=>[m(E(v.value?"Exit Fullscreen":"Fullscreen"),1)]),_:1})]),_:1},8,["icon"]),t(R,{onClick:s[0]||(s[0]=M=>c.value=!0),icon:"mdi-palette",size:"small"},{default:e(()=>[t(F,{activator:"parent",location:"bottom"},{default:e(()=>s[5]||(s[5]=[m("Theme",-1)])),_:1,__:[5]})]),_:1}),t(R,{onClick:i,icon:"mdi-minus",disabled:_.value<=10,size:"small"},{default:e(()=>[t(F,{activator:"parent",location:"bottom"},{default:e(()=>s[6]||(s[6]=[m("Decrease Font",-1)])),_:1,__:[6]})]),_:1},8,["disabled"]),t(H,{size:"small",class:"mx-1"},{default:e(()=>[m(E(_.value)+"px",1)]),_:1}),t(R,{onClick:Y,icon:"mdi-plus",disabled:_.value>=24,size:"small"},{default:e(()=>[t(F,{activator:"parent",location:"bottom"},{default:e(()=>s[7]||(s[7]=[m("Increase Font",-1)])),_:1,__:[7]})]),_:1},8,["disabled"]),t(R,{onClick:n,icon:"mdi-refresh",size:"small"},{default:e(()=>[t(F,{activator:"parent",location:"bottom"},{default:e(()=>s[8]||(s[8]=[m("Refresh",-1)])),_:1,__:[8]})]),_:1})]),_:1}),t(Q),t(H,{size:"small",color:k.value},{default:e(()=>[m(E(d.session?.name||"No Session"),1)]),_:1},8,["color"])],2)),L.value?(C(),$("div",Xe,[t(H,{size:"small",color:k.value},{default:e(()=>[m(E(d.session?.name||"No Session"),1)]),_:1},8,["color"])])):A("",!0),K.value&&d.session?(C(),$("iframe",{src:K.value,key:d.session.id,class:O(["gotty-iframe",{[`theme-${D.value}`]:!0}]),style:Ce(X.value),onLoad:B,allow:"clipboard-write",frameborder:"0"},null,46,Be)):(C(),$("div",Ge,[t(Z,{size:"64",color:"grey"},{default:e(()=>s[9]||(s[9]=[m("mdi-console",-1)])),_:1,__:[9]}),s[11]||(s[11]=u("p",null,"No session selected",-1)),t(R,{color:"primary",onClick:U},{default:e(()=>s[10]||(s[10]=[m(" Create New Session ",-1)])),_:1,__:[10]})])),L.value&&!y.value?(C(),ee(R,{key:4,class:"keyboard-toggle",fab:"",color:"primary",onClick:N,icon:"mdi-keyboard"},{default:e(()=>[t(F,{activator:"parent",location:"top"},{default:e(()=>s[12]||(s[12]=[m("Show Keyboard",-1)])),_:1,__:[12]})]),_:1})):A("",!0),y.value?(C(),ee(xe,{key:5,onKeypress:z,onClose:s[1]||(s[1]=M=>y.value=!1)})):A("",!0),t(ke,{modelValue:c.value,"onUpdate:modelValue":s[3]||(s[3]=M=>c.value=M),"max-width":"500"},{default:e(()=>[t(ye,null,{default:e(()=>[t(ae,null,{default:e(()=>s[13]||(s[13]=[m("Select Terminal Theme",-1)])),_:1,__:[13]}),t(pe,null,{default:e(()=>[t(fe,null,{default:e(()=>[(C(),$(j,null,J(x,M=>t(ve,{key:M.id,onClick:rt=>r(M),active:D.value===M.id},{append:e(()=>[D.value===M.id?(C(),ee(Z,{key:0,color:"primary"},{default:e(()=>s[14]||(s[14]=[m(" mdi-check ",-1)])),_:1,__:[14]})):A("",!0)]),default:e(()=>[t(w,null,{default:e(()=>[m(E(M.name),1)]),_:2},1024),t(le,null,{default:e(()=>[m(E(M.description),1)]),_:2},1024)]),_:2},1032,["onClick","active"])),64))]),_:1})]),_:1}),t(_e,null,{default:e(()=>[t(Q),t(R,{variant:"text",onClick:s[2]||(s[2]=M=>c.value=!1)},{default:e(()=>s[15]||(s[15]=[m("Close",-1)])),_:1,__:[15]})]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(Ae,{onToggleKeyboard:N,onToggleFullscreen:I,onThemeChange:r,onFontSizeChange:s[4]||(s[4]=M=>{_.value=M,a()})})],2)}}}),We=ne(Oe,[["__scopeId","data-v-ca50d39f"]]),He={class:"simple-keyboard"},je={class:"keyboard-container"},Je={class:"keyboard-row"},Qe={class:"keyboard-row arrow-section"},Ze={class:"arrow-cluster"},et={class:"arrow-bottom"},tt={class:"nav-keys"},nt={class:"keyboard-row"},ot=["onClick"],lt=te({__name:"SimpleKeyboard",emits:["key-press"],setup(h,{emit:p}){const T=p,l=S({ctrl:!1,alt:!1,shift:!1});function f(c){l.value[c]=!l.value[c]}function y(c){const o={key:c,code:c,ctrlKey:l.value.ctrl,altKey:l.value.alt,shiftKey:l.value.shift,metaKey:!1};T("key-press",o),(l.value.ctrl||l.value.alt)&&setTimeout(()=>{l.value.ctrl=!1,l.value.alt=!1},100)}return(c,o)=>(C(),$("div",He,[u("div",je,[u("div",Je,[u("button",{onClick:o[0]||(o[0]=v=>y("Escape")),class:"key-button"},"ESC"),u("button",{onClick:o[1]||(o[1]=v=>y("Tab")),class:"key-button"},"TAB"),u("button",{onClick:o[2]||(o[2]=v=>f("ctrl")),class:O(["key-button",{active:l.value.ctrl}])},"CTRL",2),u("button",{onClick:o[3]||(o[3]=v=>f("alt")),class:O(["key-button",{active:l.value.alt}])},"ALT",2),u("button",{onClick:o[4]||(o[4]=v=>y("Enter")),class:"key-button"},"ENTER")]),u("div",Qe,[u("div",Ze,[u("button",{onClick:o[5]||(o[5]=v=>y("ArrowUp")),class:"key-button arrow"},"↑"),u("div",et,[u("button",{onClick:o[6]||(o[6]=v=>y("ArrowLeft")),class:"key-button arrow"},"←"),u("button",{onClick:o[7]||(o[7]=v=>y("ArrowDown")),class:"key-button arrow"},"↓"),u("button",{onClick:o[8]||(o[8]=v=>y("ArrowRight")),class:"key-button arrow"},"→")])]),u("div",tt,[u("button",{onClick:o[9]||(o[9]=v=>y("Home")),class:"key-button small"},"Home"),u("button",{onClick:o[10]||(o[10]=v=>y("End")),class:"key-button small"},"End"),u("button",{onClick:o[11]||(o[11]=v=>y("PageUp")),class:"key-button small"},"PgUp"),u("button",{onClick:o[12]||(o[12]=v=>y("PageDown")),class:"key-button small"},"PgDn")])]),u("div",nt,[(C(),$(j,null,J(12,v=>u("button",{key:`f${v}`,onClick:_=>y(`F${v}`),class:"key-button fn-key"},"F"+E(v),9,ot)),64))])])]))}}),st=ne(lt,[["__scopeId","data-v-28e641c1"]]),it={class:"session-view"},at=te({__name:"SessionView",setup(h){const p=Te(),T=ie(),l=S(null),f=P(()=>{const c=p.params.id;return T.sessions.find(o=>o.id===c)});se(async()=>{await T.fetchSessions();const c=p.params.id;c&&await T.setActiveSession(c)});function y(c){f.value&&T.sendKeyToSession(f.value.id,c)}return(c,o)=>(C(),$("div",it,[t(Ue),f.value?(C(),ee(We,{key:0,session:f.value,ref_key:"terminalFrame",ref:l},null,8,["session"])):A("",!0),t(st,{onKeyPress:y})]))}}),ft=ne(at,[["__scopeId","data-v-65c2fcf6"]]);export{ft as default};
