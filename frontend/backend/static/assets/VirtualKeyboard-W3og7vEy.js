import{d as O,j as S,f as z,c as f,y as Q,n as H,t as R,o as b,g as W,k as j,a as s,l as A,e as N,F as T,h as q,m as P,v as J,D as X,A as Y,b as M,x as ee}from"./index-CTW0NrtD.js";import{_ as L}from"./_plugin-vue_export-helper-DlAUqK2U.js";const te={key:0,class:"key-icon"},oe={key:1,class:"key-label"},le=O({__name:"KeyboardButton",props:{label:{},code:{},shifted:{},size:{},color:{},icon:{},active:{type:Boolean}},emits:["keypress"],setup(y,{emit:u}){const p=y,w=u,h=S(!1),d=z(()=>p.active&&p.shifted?p.shifted:p.label),m=z(()=>["keyboard-button",`size-${p.size||"medium"}`,{active:p.active,pressed:h.value}]),k=z(()=>{const v={};return p.color&&(v.backgroundColor=p.color),v});function r(){h.value=!0,C()}function $(){h.value=!1}function _(v){v.preventDefault(),h.value=!0,C()}function B(v){v.preventDefault(),h.value=!1,E()}function E(){const v=p.shifted||p.label;w("keypress",{code:p.code,key:v})}function C(){"vibrate"in navigator&&navigator.vibrate(10)}return(v,D)=>(b(),f("button",{class:H(m.value),style:Q(k.value),onMousedown:r,onMouseup:$,onTouchstart:_,onTouchend:B,onClick:E},[v.icon?(b(),f("span",te,R(v.icon),1)):(b(),f("span",oe,R(d.value),1))],38))}}),F=L(le,[["__scopeId","data-v-bd391a32"]]),ae={class:"macro-recorder"},se={class:"recorder-header"},ne={key:0,class:"recording-indicator"},ce={key:1,class:"recorded-sequence"},ie={class:"key-sequence"},re={key:0,class:"separator"},de={key:2,class:"macro-actions"},ue=["disabled"],be={key:3,class:"saved-macros"},ve={class:"macro-name"},fe={class:"macro-length"},ye={class:"macro-controls"},pe=["onClick"],he=["onClick"],me=["onClick"],ke={class:"macro-settings"},ge=O({__name:"MacroRecorder",emits:["play","save"],setup(y,{expose:u,emit:p}){const w=p,h=S(!1),d=S([]),m=S(""),k=S([]),r=S({includeDelays:!0,playbackSpeed:1});let $=0,_=null;function B(){h.value?C():E()}function E(){h.value=!0,d.value=[],$=Date.now(),_=o=>{if(["Control","Alt","Shift","Meta"].includes(o.key))return;o.preventDefault();const a={key:o.key,code:o.code,timestamp:Date.now()-$,modifiers:{ctrl:o.ctrlKey,alt:o.altKey,shift:o.shiftKey,meta:o.metaKey}};d.value.push(a),o.key==="Escape"&&C()},document.addEventListener("keydown",_)}function C(){h.value=!1,_&&(document.removeEventListener("keydown",_),_=null),d.value.length>0&&d.value[d.value.length-1].key==="Escape"&&d.value.pop()}function v(o){const a=[];o.modifiers.ctrl&&a.push("Ctrl"),o.modifiers.alt&&a.push("Alt"),o.modifiers.shift&&a.push("Shift"),o.modifiers.meta&&a.push("Cmd");let c=o.key;return c===" "&&(c="Space"),c==="Enter"&&(c="‚Üµ"),c==="Backspace"&&(c="‚Üê"),c==="Tab"&&(c="Tab"),c==="Escape"&&(c="Esc"),a.push(c),a.join("+")}function D(){if(!m.value||d.value.length===0)return;const o={id:l(),name:m.value,keys:[...d.value],createdAt:new Date};k.value.push(o),e(),w("save",o),m.value="",d.value=[]}function K(o){const a=[...o.keys];r.value.includeDelays?I(a):w("play",a)}async function I(o){const a=r.value.playbackSpeed;for(let c=0;c<o.length;c++){const x=o[c],U=o[c+1];if(w("play",[x]),U&&r.value.includeDelays){const G=(U.timestamp-x.timestamp)/a;await new Promise(Z=>setTimeout(Z,Math.min(G,1e3)))}else await new Promise(G=>setTimeout(G,50/a))}}function V(){d.value.length>0&&I(d.value)}function i(o){d.value=[...o.keys],m.value=o.name;const a=k.value.findIndex(c=>c.id===o.id);a>-1&&k.value.splice(a,1)}function n(o){const a=k.value.findIndex(c=>c.id===o);a>-1&&(k.value.splice(a,1),e())}function t(){d.value=[],m.value=""}function l(){return Math.random().toString(36).substr(2,9)}function e(){try{localStorage.setItem("keyboard-macros",JSON.stringify(k.value))}catch(o){console.error("Failed to save macros:",o)}}function g(){try{const o=localStorage.getItem("keyboard-macros");o&&(k.value=JSON.parse(o))}catch(o){console.error("Failed to load macros:",o)}}return W(()=>{g()}),j(()=>{h.value&&C()}),u({startRecording:E,stopRecording:C,playMacro:K}),(o,a)=>(b(),f("div",ae,[s("div",se,[a[3]||(a[3]=s("h3",null,"Macro Recorder",-1)),s("button",{class:H(["record-btn",{recording:h.value}]),onClick:B},R(h.value?"‚èπÔ∏è Stop":"‚è∫Ô∏è Record"),3)]),h.value?(b(),f("div",ne,[a[4]||(a[4]=s("span",{class:"pulse"},null,-1)),N(" Recording... ("+R(d.value.length)+" keys) ",1)])):A("",!0),d.value.length>0&&!h.value?(b(),f("div",ce,[a[5]||(a[5]=s("h4",null,"Recorded Sequence:",-1)),s("div",ie,[(b(!0),f(T,null,q(d.value,(c,x)=>(b(),f("span",{key:x,class:"recorded-key"},[N(R(v(c))+" ",1),x<d.value.length-1?(b(),f("span",re,"‚Üí")):A("",!0)]))),128))])])):A("",!0),d.value.length>0&&!h.value?(b(),f("div",de,[P(s("input",{"onUpdate:modelValue":a[0]||(a[0]=c=>m.value=c),placeholder:"Macro name...",maxlength:"20",class:"macro-name-input"},null,512),[[J,m.value]]),s("button",{onClick:D,disabled:!m.value,class:"save-btn"}," üíæ Save Macro ",8,ue),s("button",{onClick:V,class:"test-btn"}," ‚ñ∂Ô∏è Test "),s("button",{onClick:t,class:"clear-btn"}," üóëÔ∏è Clear ")])):A("",!0),k.value.length>0?(b(),f("div",be,[a[6]||(a[6]=s("h4",null,"Saved Macros:",-1)),(b(!0),f(T,null,q(k.value,c=>(b(),f("div",{key:c.id,class:"macro-item"},[s("span",ve,R(c.name),1),s("span",fe,"("+R(c.keys.length)+" keys)",1),s("div",ye,[s("button",{onClick:x=>K(c),class:"play-btn"},"‚ñ∂Ô∏è",8,pe),s("button",{onClick:x=>i(c),class:"edit-btn"},"‚úèÔ∏è",8,he),s("button",{onClick:x=>n(c.id),class:"delete-btn"},"üóëÔ∏è",8,me)])]))),128))])):A("",!0),s("div",ke,[s("label",null,[P(s("input",{type:"checkbox","onUpdate:modelValue":a[1]||(a[1]=c=>r.value.includeDelays=c)},null,512),[[X,r.value.includeDelays]]),a[7]||(a[7]=N(" Include timing delays ",-1))]),s("label",null,[P(s("input",{type:"number","onUpdate:modelValue":a[2]||(a[2]=c=>r.value.playbackSpeed=c),min:"0.5",max:"5",step:"0.5"},null,512),[[J,r.value.playbackSpeed,void 0,{number:!0}]]),N(" Playback speed ("+R(r.value.playbackSpeed)+"x) ",1)])])]))}}),Ke=L(ge,[["__scopeId","data-v-972fa170"]]),Se=Y("shortcuts",()=>{const y=S(new Map),u=S(new Map),p=S(null),w=[{id:"copy",label:"Copy",code:"Ctrl+C",keys:["Control","KeyC"],icon:"üìã",enabled:!0},{id:"paste",label:"Paste",code:"Ctrl+V",keys:["Control","KeyV"],icon:"üìå",enabled:!0},{id:"cut",label:"Cut",code:"Ctrl+X",keys:["Control","KeyX"],icon:"‚úÇÔ∏è",enabled:!0},{id:"undo",label:"Undo",code:"Ctrl+Z",keys:["Control","KeyZ"],icon:"‚Ü©Ô∏è",enabled:!0},{id:"redo",label:"Redo",code:"Ctrl+Shift+Z",keys:["Control","Shift","KeyZ"],icon:"‚Ü™Ô∏è",enabled:!0},{id:"save",label:"Save",code:"Ctrl+S",keys:["Control","KeyS"],icon:"üíæ",enabled:!0},{id:"find",label:"Find",code:"Ctrl+F",keys:["Control","KeyF"],icon:"üîç",enabled:!0},{id:"escape",label:"ESC",code:"Escape",keys:["Escape"],color:"#ff6b6b",enabled:!0}],h={basic:{id:"basic",name:"Basic",icon:"‚å®Ô∏è",enabled:!0,shortcuts:["copy","paste","cut","undo","redo","save","find","escape"]},navigation:{id:"navigation",name:"Navigation",icon:"üß≠",enabled:!1,shortcuts:[]},vim:{id:"vim",name:"Vim",icon:"üìù",enabled:!1,shortcuts:[]},git:{id:"git",name:"Git",icon:"üîÄ",enabled:!1,shortcuts:[]},docker:{id:"docker",name:"Docker",icon:"üê≥",enabled:!1,shortcuts:[]}};function d(){w.forEach(e=>{y.value.set(e.id,e)}),Object.values(h).forEach(e=>{u.value.set(e.id,e)}),[{id:"vim-save",label:":w",code:":w",keys:["Semicolon","KeyW"],enabled:!0},{id:"vim-quit",label:":q",code:":q",keys:["Semicolon","KeyQ"],enabled:!0},{id:"vim-save-quit",label:":wq",code:":wq",keys:["Semicolon","KeyW","KeyQ"],enabled:!0},{id:"vim-insert",label:"i",code:"i",keys:["KeyI"],enabled:!0},{id:"vim-visual",label:"v",code:"v",keys:["KeyV"],enabled:!0},{id:"vim-delete-line",label:"dd",code:"dd",keys:["KeyD","KeyD"],enabled:!0}].forEach(e=>{y.value.set(e.id,e);const g=u.value.get("vim");g&&g.shortcuts.push(e.id)}),[{id:"nav-up",label:"‚Üë",code:"",keys:["ArrowUp"],icon:"‚¨ÜÔ∏è",enabled:!0},{id:"nav-down",label:"‚Üì",code:"",keys:["ArrowDown"],icon:"‚¨áÔ∏è",enabled:!0},{id:"nav-left",label:"‚Üê",code:"",keys:["ArrowLeft"],icon:"‚¨ÖÔ∏è",enabled:!0},{id:"nav-right",label:"‚Üí",code:"",keys:["ArrowRight"],icon:"‚û°Ô∏è",enabled:!0},{id:"nav-home",label:"Home",code:"",keys:["Home"],icon:"üè†",enabled:!0},{id:"nav-end",label:"End",code:"",keys:["End"],icon:"üîö",enabled:!0},{id:"nav-pgup",label:"PgUp",code:"",keys:["PageUp"],icon:"‚è´",enabled:!0},{id:"nav-pgdn",label:"PgDn",code:"",keys:["PageDown"],icon:"‚è¨",enabled:!0}].forEach(e=>{y.value.set(e.id,e);const g=u.value.get("navigation");g&&g.shortcuts.push(e.id)}),[{id:"git-status",label:"status",code:"git status",keys:[],icon:"üìä",enabled:!0},{id:"git-add",label:"add .",code:"git add .",keys:[],icon:"‚ûï",enabled:!0},{id:"git-commit",label:"commit",code:'git commit -m ""',keys:[],icon:"üíæ",enabled:!0},{id:"git-push",label:"push",code:"git push",keys:[],icon:"üì§",enabled:!0},{id:"git-pull",label:"pull",code:"git pull",keys:[],icon:"üì•",enabled:!0}].forEach(e=>{y.value.set(e.id,e);const g=u.value.get("git");g&&g.shortcuts.push(e.id)}),[{id:"docker-ps",label:"ps",code:"docker ps",keys:[],icon:"üìã",enabled:!0},{id:"docker-ps-a",label:"ps -a",code:"docker ps -a",keys:[],icon:"üìú",enabled:!0},{id:"docker-logs",label:"logs",code:"docker logs -f ",keys:[],icon:"üìù",enabled:!0},{id:"docker-exec",label:"exec",code:"docker exec -it ",keys:[],icon:"üíª",enabled:!0},{id:"docker-stop",label:"stop",code:"docker stop ",keys:[],icon:"üõë",enabled:!0},{id:"docker-start",label:"start",code:"docker start ",keys:[],icon:"‚ñ∂Ô∏è",enabled:!0},{id:"docker-rm",label:"rm",code:"docker rm ",keys:[],icon:"üóëÔ∏è",enabled:!0},{id:"docker-images",label:"images",code:"docker images",keys:[],icon:"üì¶",enabled:!0}].forEach(e=>{y.value.set(e.id,e);const g=u.value.get("docker");g&&g.shortcuts.push(e.id)})}const m=z(()=>{const i=[];return u.value.forEach(n=>{n.enabled&&n.shortcuts.forEach(t=>{const l=y.value.get(t);l&&l.enabled&&i.push(l)})}),i}),k=z(()=>p.value&&u.value.get(p.value)||null);function r(i){const n=V(),t={...i,id:n};if(y.value.set(n,t),i.group){const l=u.value.get(i.group);l&&l.shortcuts.push(n)}return K(),n}function $(i,n){const t=y.value.get(i);t&&(Object.assign(t,n),K())}function _(i){y.value.delete(i),u.value.forEach(n=>{const t=n.shortcuts.indexOf(i);t>-1&&n.shortcuts.splice(t,1)}),K()}function B(i,n){const t=V(),l={id:t,name:i,icon:n,enabled:!0,shortcuts:[]};return u.value.set(t,l),K(),t}function E(i){const n=u.value.get(i);n&&(n.enabled=!n.enabled,K())}function C(i){try{const n=typeof i=="string"?JSON.parse(i):i;return n.shortcuts&&n.shortcuts.forEach(t=>{y.value.set(t.id,t)}),n.groups&&n.groups.forEach(t=>{u.value.set(t.id,t)}),K(),!0}catch(n){return console.error("Failed to import shortcuts:",n),!1}}function v(){return JSON.stringify({shortcuts:Array.from(y.value.values()),groups:Array.from(u.value.values())},null,2)}function D(){y.value.clear(),u.value.clear(),d(),K()}function K(){try{localStorage.setItem("keyboard-shortcuts",JSON.stringify({shortcuts:Array.from(y.value.entries()),groups:Array.from(u.value.entries())}))}catch(i){console.error("Failed to save shortcuts:",i)}}function I(){try{const i=localStorage.getItem("keyboard-shortcuts");if(i){const n=JSON.parse(i);n.shortcuts&&(y.value=new Map(n.shortcuts)),n.groups&&(u.value=new Map(n.groups))}else d()}catch(i){console.error("Failed to load shortcuts:",i),d()}}function V(){return Math.random().toString(36).substr(2,9)}return I(),{shortcuts:y,groups:u,activeGroupId:p,activeShortcuts:m,activeGroup:k,addShortcut:r,updateShortcut:$,deleteShortcut:_,createGroup:B,toggleGroup:E,importShortcuts:C,exportShortcuts:v,resetToDefaults:D,initializeDefaults:d}}),we={key:0,class:"virtual-keyboard"},_e={class:"keyboard-container"},Ce={class:"keyboard-row function-row"},Me={class:"keyboard-row number-row"},Fe={class:"keyboard-row qwerty-row-1"},Ee={class:"keyboard-row qwerty-row-2"},De={class:"keyboard-row qwerty-row-3"},$e={class:"keyboard-row bottom-row"},xe={key:0,class:"keyboard-row shortcuts-row"},Re={class:"keyboard-controls"},Te={key:0,class:"macro-recorder-container"},qe=O({__name:"VirtualKeyboard",emits:["keypress","shortcut"],setup(y,{expose:u,emit:p}){const w=p,h=Se(),d=z(()=>h.activeShortcuts),m=S(!0),k=S(!1),r=S({shift:!1,ctrl:!1,alt:!1,meta:!1}),$=[{label:"Esc",code:"Escape"},{label:"F1",code:"F1"},{label:"F2",code:"F2"},{label:"F3",code:"F3"},{label:"F4",code:"F4"},{label:"F5",code:"F5"},{label:"F6",code:"F6"},{label:"F7",code:"F7"},{label:"F8",code:"F8"},{label:"F9",code:"F9"},{label:"F10",code:"F10"},{label:"F11",code:"F11"},{label:"F12",code:"F12"}],_=[{label:"`",code:"Backquote",shifted:"~"},{label:"1",code:"Digit1",shifted:"!"},{label:"2",code:"Digit2",shifted:"@"},{label:"3",code:"Digit3",shifted:"#"},{label:"4",code:"Digit4",shifted:"$"},{label:"5",code:"Digit5",shifted:"%"},{label:"6",code:"Digit6",shifted:"^"},{label:"7",code:"Digit7",shifted:"&"},{label:"8",code:"Digit8",shifted:"*"},{label:"9",code:"Digit9",shifted:"("},{label:"0",code:"Digit0",shifted:")"},{label:"-",code:"Minus",shifted:"_"},{label:"=",code:"Equal",shifted:"+"},{label:"‚Üê",code:"Backspace"}],B=[{label:"Tab",code:"Tab"},{label:"Q",code:"KeyQ"},{label:"W",code:"KeyW"},{label:"E",code:"KeyE"},{label:"R",code:"KeyR"},{label:"T",code:"KeyT"},{label:"Y",code:"KeyY"},{label:"U",code:"KeyU"},{label:"I",code:"KeyI"},{label:"O",code:"KeyO"},{label:"P",code:"KeyP"},{label:"[",code:"BracketLeft",shifted:"{"},{label:"]",code:"BracketRight",shifted:"}"},{label:"\\",code:"Backslash",shifted:"|"}],E=[{label:"Caps",code:"CapsLock"},{label:"A",code:"KeyA"},{label:"S",code:"KeyS"},{label:"D",code:"KeyD"},{label:"F",code:"KeyF"},{label:"G",code:"KeyG"},{label:"H",code:"KeyH"},{label:"J",code:"KeyJ"},{label:"K",code:"KeyK"},{label:"L",code:"KeyL"},{label:";",code:"Semicolon",shifted:":"},{label:"'",code:"Quote",shifted:'"'},{label:"‚Üµ",code:"Enter"}],C=[{label:"Shift",code:"ShiftLeft"},{label:"Z",code:"KeyZ"},{label:"X",code:"KeyX"},{label:"C",code:"KeyC"},{label:"V",code:"KeyV"},{label:"B",code:"KeyB"},{label:"N",code:"KeyN"},{label:"M",code:"KeyM"},{label:",",code:"Comma",shifted:"<"},{label:".",code:"Period",shifted:">"},{label:"/",code:"Slash",shifted:"?"},{label:"Shift",code:"ShiftRight"}];function v(t){const l=new KeyboardEvent("keydown",{code:t.code,key:t.key||t.code,shiftKey:r.value.shift,ctrlKey:r.value.ctrl,altKey:r.value.alt,metaKey:r.value.meta,bubbles:!0});w("keypress",l),t.code!=="Shift"&&t.code!=="ShiftLeft"&&t.code!=="ShiftRight"&&(r.value.ctrl&&(r.value.ctrl=!1),r.value.alt&&(r.value.alt=!1),r.value.meta&&(r.value.meta=!1))}function D(t){r.value[t]=!r.value[t]}function K(t){w("shortcut",t)}function I(){m.value=!m.value}function V(){console.log("Opening shortcut editor...")}function i(t){t.forEach((l,e)=>{setTimeout(()=>{const g=new KeyboardEvent("keydown",{key:l.key,code:l.code,ctrlKey:l.modifiers?.ctrl||!1,altKey:l.modifiers?.alt||!1,shiftKey:l.modifiers?.shift||!1,metaKey:l.modifiers?.meta||!1,bubbles:!0});w("keypress",g)},e*50)})}function n(t){console.log("Macro saved:",t)}return u({visible:m,toggleKeyboard:I}),(t,l)=>m.value?(b(),f("div",we,[s("div",_e,[s("div",Ce,[(b(),f(T,null,q($,e=>M(F,{key:e.code,label:e.label,code:e.code,size:"small",onKeypress:v},null,8,["label","code"])),64))]),s("div",Me,[(b(),f(T,null,q(_,e=>M(F,{key:e.code,label:e.label,code:e.code,shifted:e.shifted,onKeypress:v},null,8,["label","code","shifted"])),64))]),s("div",Fe,[(b(),f(T,null,q(B,e=>M(F,{key:e.code,label:e.label,code:e.code,shifted:e.shifted,onKeypress:v},null,8,["label","code","shifted"])),64))]),s("div",Ee,[(b(),f(T,null,q(E,e=>M(F,{key:e.code,label:e.label,code:e.code,shifted:e.shifted,onKeypress:v},null,8,["label","code","shifted"])),64))]),s("div",De,[(b(),f(T,null,q(C,e=>M(F,{key:e.code,label:e.label,code:e.code,shifted:e.shifted,onKeypress:v},null,8,["label","code","shifted"])),64))]),s("div",$e,[M(F,{label:"Ctrl",code:"Control",size:"medium",active:r.value.ctrl,onKeypress:l[0]||(l[0]=e=>D("ctrl"))},null,8,["active"]),M(F,{label:"Alt",code:"Alt",size:"small",active:r.value.alt,onKeypress:l[1]||(l[1]=e=>D("alt"))},null,8,["active"]),M(F,{label:"Space",code:"Space",size:"space",onKeypress:v}),M(F,{label:"Meta",code:"Meta",size:"small",active:r.value.meta,onKeypress:l[2]||(l[2]=e=>D("meta"))},null,8,["active"]),M(F,{label:"‚áß",code:"Shift",size:"medium",active:r.value.shift,onKeypress:l[3]||(l[3]=e=>D("shift"))},null,8,["active"])]),d.value.length>0?(b(),f("div",xe,[(b(!0),f(T,null,q(d.value,e=>(b(),ee(F,{key:e.id,label:e.label,code:e.code,color:e.color,icon:e.icon,size:e.size||"medium",onKeypress:g=>K(e)},null,8,["label","code","color","icon","size","onKeypress"]))),128))])):A("",!0)]),s("div",Re,[s("button",{onClick:I,class:"control-btn",title:"Toggle Keyboard"},l[5]||(l[5]=[s("span",null,"‚å®Ô∏è",-1)])),s("button",{onClick:V,class:"control-btn",title:"Edit Shortcuts"},l[6]||(l[6]=[s("span",null,"‚öôÔ∏è",-1)])),s("button",{onClick:l[4]||(l[4]=e=>k.value=!k.value),class:"control-btn",title:"Macro Recorder"},l[7]||(l[7]=[s("span",null,"‚è∫Ô∏è",-1)]))]),k.value?(b(),f("div",Te,[M(Ke,{onPlay:i,onSave:n})])):A("",!0)])):A("",!0)}}),Ie=L(qe,[["__scopeId","data-v-6b0aceb7"]]);export{Ie as V,Se as u};
